!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.template=b():a.template=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=22)}([function(a,b,c){(function(b){a.exports=!1;try{a.exports="[object process]"===Object.prototype.toString.call(b.process)}catch(a){}}).call(b,c(4))},function(b,c,d){"use strict";var g=d(17),j=d(2),f=d(18),h=function(a,b){b.onerror(a,b);var c=function(){return"{Template Error}"};return c.mappings=[],c.sourcesContent=[],c},e=function b(c){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};"string"==typeof c?i.source=c:i=c,i=j.$extend(i),c=i.source,i.debug&&(i.cache=!1,i.bail=!1,i.minimize=!1,i.compileDebug=!0),i.compileDebug&&(i.minimize=!1),i.filename&&(i.filename=i.resolveFilename(i.filename,i));var k=i.filename,d=i.cache,a=i.caches;if(d&&k){var n=a.get(k);if(n)return n}if(!c)try{c=i.loader(k,i),i.source=c}catch(a){var o=new f({name:"CompileError",path:k,message:"template not found: "+a.message,stack:a.stack});if(i.bail)throw o;return h(o,i)}var l,p=new g(i);try{l=p.build()}catch(a){if(a=new f(a),i.bail)throw a;return h(a,i)}var q=function(a,c){try{return l(a,c)}catch(d){if(!i.compileDebug)return i.cache=!1,i.compileDebug=!0,b(i)(a,c);if(d=new f(d),i.bail)throw d;return h(d,i)()}};return q.mappings=l.mappings,q.sourcesContent=l.sourcesContent,q.toString=function(){return l.toString()},d&&k&&a.set(k,q),q};e.Compiler=g,b.exports=e},function(b,e,g){"use strict";function j(){this.$extend=function(a){return a=a||{},i(a,a instanceof j?a:this)}}var k=g(0),n=g(20),i=g(9),o=g(11),a=g(13),c=g(8),q=g(12),p=g(15),l=g(16),f=g(10),h=g(14),m={source:null,filename:null,rules:[l,p],escape:!0,debug:!!k&&"production"!==process.env.NODE_ENV,bail:!1,cache:!0,minimize:!0,compileDebug:!1,resolveFilename:h,include:o,htmlMinifier:f,htmlMinifierOptions:{collapseWhitespace:!0,minifyCSS:!0,minifyJS:!0,ignoreCustomFragments:[]},onerror:a,loader:q,caches:c,root:"/",extname:".art",ignore:[],imports:n};j.prototype=m,b.exports=new j},function(){},function(a){var b=function(){return this}();try{b=b||Function("return this")()||(0,eval)("this")}catch(a){"object"==typeof window&&(b=window)}a.exports=b},function(a,b){Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyu]{1,5}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g,b.matchToToken=function(a){var b={type:"invalid",value:a[0]};return a[1]?(b.type="string",b.closed=a[3]||a[4]):a[5]?b.type="comment":a[6]?(b.type="comment",b.closed=!!a[7]):a[8]?b.type="regex":a[9]?b.type="number":a[10]?b.type="name":a[11]?b.type="punctuator":a[12]&&(b.type="whitespace"),b}},function(a,b,c){"use strict";a.exports=c(2)},function(a,b,c){"use strict";var d=c(1);a.exports=function(a,b,c){return d(a,c)(b)}},function(a){"use strict";var b={__data:Object.create(null),set:function(a,b){this.__data[a]=b},get:function(a){return this.__data[a]},reset:function(){this.__data={}}};a.exports=b},function(a){"use strict";var b=Object.prototype.toString,c=function(a){return null===a?"Null":b.call(a).slice(8,-1)};a.exports=function a(b,d){var e,f=c(b);if("Object"===f?e=Object.create(d||{}):"Array"===f&&(e=[].concat(d||[])),e){for(var g in b)b.hasOwnProperty(g)&&(e[g]=a(b[g],e[g]));return e}return b}},function(a,b,c){"use strict";var d=c(0);a.exports=function(b,f){if(d){var g,h=c(23).minify,i=f.htmlMinifierOptions,j=f.rules.map(function(a){return a.test});(g=i.ignoreCustomFragments).push.apply(g,j),b=h(b,i)}return b}},function(a,b,c){"use strict";a.exports=function(a,b,d,e){var f=c(1);return e=e.$extend({filename:e.resolveFilename(a,e),bail:!0,source:null}),f(e)(b,d)}},function(a,b,c){"use strict";var d=c(0);a.exports=function(a){if(d)return c(3).readFileSync(a,"utf8");var b=document.getElementById(a);return b.value||b.innerHTML}},function(a){"use strict";a.exports=function(a){console.error(a.name,a.message)}},function(a,b,d){"use strict";var f=d(0),g=/^\.+\//;a.exports=function(b,h){if(f){var j=d(3),i=h.root,k=h.extname;if(g.test(b)){var a=h.filename,c=!a||b===a,l=c?i:j.dirname(a);b=j.resolve(l,b)}else b=j.resolve(i,b);j.extname(b)||(b+=k)}return b}},function(a){"use strict";var e={test:/{{[ \t]*([@#]?)(\/?)([\w\W]*?)[ \t]*}}/,use:function(j,k,q,r){var n,t=this,i=t.options,s=t.getEsTokens(r.trim()),a=s.map(function(a){return a.value}),c={},u=!!k&&"raw",w=q+a.shift(),z=function(a,b){console.warn("Template upgrade:","{{"+a+"}}","->","{{"+b+"}}","\n",i.filename||"")};switch("#"===k&&z("#value","@value"),w){case"set":r="var "+a.join("");break;case"if":r="if("+a.join("")+"){";break;case"else":var h=a.indexOf("if");-1<h?(a.splice(0,h+1),r="}else if("+a.join("")+"){"):r="}else{";break;case"/if":r="}";break;case"each":n=e._split(s),n.shift(),"as"===n[1]&&(z("each object as value index","each object value index"),n.splice(1,1));var m=n[0]||"$data",d=n[1]||"$value",v=n[2]||"$index";r="$each("+m+",function("+d+","+v+"){";break;case"/each":r="})";break;case"echo":w="print",z("echo value","value");case"print":case"include":case"extend":n=e._split(s),n.shift(),r=w+"("+n.join(",")+")";break;case"block":r="block("+a.join("")+",function(){";break;case"/block":r="})";break;default:if(-1!==a.indexOf("|")){for(var g=w,A=[],b=a.filter(function(a){return!/^\s+$/.test(a)});"|"!==b[0];)g+=b.shift();b.filter(function(a){return":"!==a}).forEach(function(a){"|"===a?A.push([]):A[A.length-1].push(a)}),A.reduce(function(a,b){var c=b.shift();return b.unshift(a),r="$imports."+c+"("+b.join(",")+")"},g)}else i.imports[w]?(z("filterName value","value | filterName"),n=e._split(s),n.shift(),r=w+"("+n.join(",")+")",u="raw"):r=""+w+a.join("");u||(u="escape");}return c.code=r,c.output=u,c},_split:function(a){for(var b=0,c=a.shift(),d=[[c]];b<a.length;){var e=a[b],f=e.type;"whitespace"!==f&&"comment"!==f&&("punctuator"===c.type&&"]"!==c.value||"punctuator"===f?d[d.length-1].push(e):d.push([e]),c=e),b++}return d.map(function(a){return a.map(function(a){return a.value}).join("")})}};a.exports=e},function(a){"use strict";var b={test:/<%(#?)((?:==|=#|[=-])?)([\w\W]*?)(-?)%>/,use:function(a,b,c,d){return c={"-":"raw","=":"escape","":!1,"==":"raw","=#":"raw"}[c],b&&(d="/*"+a+"*/",c=!1),{code:d,output:c}}};a.exports=b},function(a,c,d){"use strict";function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var h=d(19),j=d(21),m=function(a,b){return a.hasOwnProperty(b)},g=JSON.stringify,e=function(){function a(c){var d,e,h=this;f(this,a);var g=c.source,i=c.minimize,b=c.htmlMinifier;if(this.options=c,this.stacks=[],this.context=[],this.scripts=[],this.CONTEXT_MAP={},this.ignore=["$data","$imports","$$options"].concat(c.ignore),this.internal=(d={},d.$$out="''",d.$$line="[0,0]",d.$$blocks="arguments[1]||{}",d.$$from="null",d.print="function(){$$out+=''.concat.apply('',arguments)}",d.include="function(src,data){$$out+=$$options.include(src,data||$data,arguments[2]||$$blocks,$$options)}",d.extend="function(from){$$from=from}",d.block="function(name,callback){if($$from){$$out='';callback();$$blocks[name]=$$out}else{if(typeof $$blocks[name]==='string'){$$out+=$$blocks[name]}else{callback()}}}",d),this.dependencies=(e={},e.print=["$$out"],e.include=["$$out","$$options","$data","$$blocks"],e.extend=["$$from","include"],e.block=["$$from","$$out","$$blocks"],e),this.importContext("$$out"),c.compileDebug&&this.importContext("$$line"),i)try{g=b(g,c)}catch(a){}this.source=g,this.getTplTokens(g,c.rules,this).forEach(function(a){a.type===j.TYPE_STRING?h.parseString(a):h.parseExpression(a)})}return a.prototype.getTplTokens=function(){return j.apply(void 0,arguments)},a.prototype.getEsTokens=function(a){return h(a)},a.prototype.getVariables=function(a){var b=!1;return a.filter(function(a){return"whitespace"!==a.type&&"comment"!==a.type}).filter(function(a){return"name"===a.type&&!b||(b="punctuator"===a.type&&"."===a.value,!1)}).map(function(a){return a.value})},a.prototype.importContext=function(a){var b=this,d="",e=this.internal,f=this.dependencies,g=this.ignore,h=this.context,c=this.options,i=c.imports,j=this.CONTEXT_MAP;m(j,a)||-1!==g.indexOf(a)||(m(e,a)?(d=e[a],m(f,a)&&f[a].forEach(function(a){return b.importContext(a)})):d="$escape"===a||"$each"===a||m(i,a)?"$imports."+a:"$data."+a,j[a]=d,h.push({name:a,value:d}))},a.prototype.parseString=function(a){var b=a.value;if(b){var c="$$out+="+g(b);this.scripts.push({source:b,tplToken:a,code:c})}},a.prototype.parseExpression=function(b){var c=this,d=b.value,e=b.script,f=e.output,g=e.code;f&&(g=!1===escape||f===j.TYPE_RAW?"$$out+="+e.code:"$$out+=$escape("+e.code+")");var h=this.getEsTokens(g);this.getVariables(h).forEach(function(a){return c.importContext(a)}),this.scripts.push({source:d,tplToken:b,code:g})},a.prototype.checkExpression=function(a){for(var b=[[/^\s*}[\w\W]*?{?[\s;]*$/,""],[/(^[\w\W]*?\([\w\W]*?(?:=>|\([\w\W]*?\))\s*{[\s;]*$)/,"$1})"],[/(^[\w\W]*?\([\w\W]*?\)\s*{[\s;]*$)/,"$1}"]],c=0;c<b.length;){if(b[c][0].test(a)){var d;a=(d=a).replace.apply(d,b[c]);break}c++}try{return new Function(a),!0}catch(a){return!1}},a.prototype.build=function(){var a=this.options,d=this.context,e=this.scripts,f=this.stacks,h=this.source,i=a.filename,c=a.imports,l=[],b=m(this.CONTEXT_MAP,"extend"),p=0,n=function(a,b){var c=b.line,d=b.start,e={generated:{line:f.length+p+1,column:1},original:{line:c+1,column:d+1}};return p+=a.split(/\n/).length-1,e},k=function(a){return a.replace(/^[\t ]+|[\t ]$/g,"")};f.push("function($data){"),f.push("'use strict'"),f.push("$data=$data||{}"),f.push("var "+d.map(function(a){return a.name+"="+a.value}).join(",")),a.compileDebug?(f.push("try{"),e.forEach(function(a){a.tplToken.type===j.TYPE_EXPRESSION&&f.push("$$line=["+[a.tplToken.line,a.tplToken.start].join(",")+"]"),l.push(n(a.code,a.tplToken)),f.push(k(a.code))}),f.push("}catch(error){"),f.push("throw {"+["name:'RuntimeError'","path:"+g(i),"message:error.message","line:$$line[0]+1","column:$$line[1]+1","source:"+g(h),"stack:error.stack"].join(",")+"}"),f.push("}")):e.forEach(function(a){l.push(n(a.code,a.tplToken)),f.push(k(a.code))}),b&&(f.push("$$out=''"),f.push("include($$from,$data,$$blocks)")),f.push("return $$out"),f.push("}");var o=f.join("\n");try{var q=new Function("$imports","$$options","return "+o)(c,a);return q.mappings=l,q.sourcesContent=[h],q}catch(a){for(var r,s=0,t=0,u=0;s<e.length;){if(r=e[s],!this.checkExpression(r.code)){t=r.tplToken.line,u=r.tplToken.start;break}s++}throw{name:"CompileError",path:i,message:a.message,line:t+1,column:u+1,source:h,generated:o,stack:a.stack}}},a}();e.CONSTS={DATA:"$data",IMPORTS:"$imports",PRINT:"print",INCLUDE:"include",EXTEND:"extend",BLOCK:"block",OPTIONS:"$$options",OUT:"$$out",LINE:"$$line",BLOCKS:"$$blocks",FROM:"$$from",ESCAPE:"$escape",EACH:"$each"},a.exports=e},function(b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function g(b){var d=b.name,e=b.source,f=b.path,g=b.line,h=b.column,i=b.message;if(!e)return i;var j=e.split(/\n/),a=Math.max(g-3,0),c=Math.min(j.length,g+3),k=j.slice(a,c).map(function(b,c){var d=c+a+1;return(d===g?" >> ":"    ")+d+"| "+b}).join("\n");return(f||"anonymous")+":"+g+":"+h+"\n"+k+"\n\n"+d+": "+i}var e=function(a){function b(e){c(this,b);var f=d(this,a.call(this,e.message));return f.name="TemplateError",f.message=g(e),Error.captureStackTrace&&Error.captureStackTrace(f,f.constructor),f}return f(b,a),b}(Error);b.exports=e},function(a,b,c){"use strict";var d=c(24),f=c(5)["default"],g=c(5).matchToToken;a.exports=function(a){return a.match(f).map(function(a){return f.lastIndex=0,g(f.exec(a))}).map(function(a){return"name"===a.type&&d(a.value)&&(a.type="keyword"),a})}},function(b,a,c){"use strict";(function(d){var e=c(0),f=Object.create(e?d:window),g=function a(b){return"string"!=typeof b&&(b=b===void 0||null===b?"":"function"==typeof b?a(b.call(b)):JSON.stringify(b)),b},h=/["&'<>]/,i=function(b){var c=""+b,d=h.exec(c);if(!d)return b;var e,f,g,j="";for(e=d.index,f=0;e<c.length;e++){switch(c.charCodeAt(e)){case 34:g="&#34;";break;case 38:g="&#38;";break;case 39:g="&#39;";break;case 60:g="&#60;";break;case 62:g="&#62;";break;default:continue;}f!==e&&(j+=c.substring(f,e)),f=e+1,j+=g}return f===e?j:j+c.substring(f,e)};f.$each=function(a,b){if(Array.isArray(a))for(var c=0,d=a.length;c<d;c++)b(a[c],c,a);else for(var e in a)b(a[e],e)},f.$escape=function(a){return i(g(a))},b.exports=f}).call(a,c(4))},function(a){"use strict";var b=function(a,b,c){for(var j=[{type:"string",value:a,line:0,start:0,end:a.length}],d=0;d<b.length;d++)!function(k){for(var e=k.test.ignoreCase?"ig":"g",n=k.test.source+"|^$|[\\w\\W]",o=new RegExp(n,e),i=0;i<j.length;i++)if("string"===j[i].type){for(var q,r=j[i].line,t=j[i].start,w=j[i].end,z=j[i].value.match(o),p=[],l=0;l<z.length;l++){q=z[l],k.test.lastIndex=0;var A=k.test.exec(q),m=A?"expression":"string",d=p[p.length-1],v=d||j[i],g=v.value;t=v.line===r?d?d.end:t:g.length-g.lastIndexOf("\n")-1,w=t+q.length;var y={type:m,value:q,line:r,start:t,end:w};if("string"==m)d&&"string"===d.type?(d.value+=q,d.end+=q.length):p.push(y);else{var b=k.use.apply(c,A);y.script=b,p.push(y)}r+=q.split(/\n/).length-1}j.splice.apply(j,[i,1].concat(p)),i+=p.length-1}}(b[d]);return j};b.TYPE_STRING="string",b.TYPE_EXPRESSION="expression",b.TYPE_RAW="raw",b.TYPE_ESCAPE="escape",a.exports=b},function(a,b,c){"use strict";var d=c(7),f=c(1),e=c(6),g=function(a,b){return b instanceof Object?d({filename:a},b):f({filename:a,source:b})};g.render=d,g.compile=f,g.defaults=e,a.exports=g},function(a){!function(a){a.noop=function(){}}("object"==typeof a&&"object"==typeof a.exports?a.exports:window)},function(a){"use strict";var b={abstract:!0,await:!0,boolean:!0,break:!0,byte:!0,case:!0,catch:!0,char:!0,class:!0,const:!0,continue:!0,debugger:!0,default:!0,delete:!0,do:!0,double:!0,else:!0,enum:!0,export:!0,extends:!0,false:!0,final:!0,finally:!0,float:!0,for:!0,function:!0,goto:!0,if:!0,implements:!0,import:!0,in:!0,instanceof:!0,int:!0,interface:!0,let:!0,long:!0,native:!0,new:!0,null:!0,package:!0,private:!0,protected:!0,public:!0,return:!0,short:!0,static:!0,super:!0,switch:!0,synchronized:!0,this:!0,throw:!0,transient:!0,true:!0,try:!0,typeof:!0,var:!0,void:!0,volatile:!0,while:!0,with:!0,yield:!0};a.exports=function(a){return b.hasOwnProperty(a)}}])});