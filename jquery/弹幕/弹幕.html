<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{margin: 0; padding: 0;}
			html, body{
				width: 100%; height: 100%;
				overflow: hidden;
			}
			.msg{
				position: absolute;
				font-weight: 300;
				word-break: keep-all;
			}
		</style>
	</head>
	<script type="text/javascript" src="js/common.js" ></script>
	<script type="text/javascript" src="js/jquery-1.8.3.js" ></script>
	<script>

	$(function(){
		 $("button").click(function(){
			var val = $("input").val();
			var $mes = $("<span>");   //这里的$mes是一个jquery对象
			$mes.addClass("msg");
			$mes.text(val);
			$mes.appendTo($("body"));
			$mes.css({
				fontSize : randomInt(12,42),
				color : "#"+randomColor(),
				top : randomInt(0,window.innerHeight-$mes.height()),
				left : window.innerWidth
			});
			console.log($mes.width());  
			$mes.animate({left:-$mes.width()},randomInt(5000,8000),function(){
				$mes.remove();
			});
		})
	})



















	/*	$(function(){
			$("button").click(function(){
				var content = $("input").val();
				var $oMsg = $("<span>");
				$oMsg.addClass("msg");
				$oMsg.text(content);
				$oMsg.css({
					color : "#"+randomColor(),
					fontSize : randomInt(12, 42),
					top : randomInt(0, $(window).height()),
					left : $(window).width()
				});
				$oMsg.appendTo($(document.body));
				$oMsg.animate({left: -200}, randomInt(1000,8000), function(){
					$oMsg.remove();
				});
			})
		});*/
	</script>
	<body>
		<input type="text" /><button>发送弹幕</button>
	</body>
</html>
